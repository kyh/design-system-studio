import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import { useTheme } from "styled-components";
import { Box, Flex, Text, Heading } from "../src/components";

<Meta title="Foundations/Design Tokens" />

export const Breakpoints = () => {
  const theme = useTheme();
  return (
    <Box>
      {theme.breakpoints.map((bp, index) => {
        let headingText;
        const bpText = typeof bp === "number" ? `${bp}px` : bp;
        if (index === 0) {
          headingText = `< ${bpText}`;
        } else if (index === theme.breakpoints.length - 1) {
          headingText = `${bpText} +`;
        } else {
          const prevBp = theme.breakpoints[index - 1];
          const prevBpText =
            typeof prevBp === "number" ? `${prevBp}px` : prevBp;
          headingText = `${prevBpText} - ${bpText}`;
        }
        return (
          <Flex alignItems="center" justifyContent="space-between" mb={4}>
            <Text minWidth={4} mr={3}>
              Breakpoint {index}
            </Text>
            <Heading>{headingText}</Heading>
          </Flex>
        );
      })}
    </Box>
  );
};

# Breakpoints

> Breakpoints are CSS lengths intended for use in media queries. In Styled System the breakpoints scale is used to create mobile-first responsive media queries based on array values.
>
> â€” [Theme Specification - breakpoints](https://styled-system.com/theme-specification/#breakpoints)

<Preview withSource="none">
  <Story name="Breakpoints">
    <Breakpoints />
  </Story>
</Preview>

For example, using a margin value of `[ 2, 3, 4 ]` creates styles with multiple mobile-first min-width media queries.

```js
 {
   margin: <space[2]>,
   '@media screen and (min-width: <breakpoint[1]>)': {
     margin: <space[3]>,
   },
   '@media screen and (min-width: <breakpoint[2]>)': {
     margin: <space[4]>,
   },
 }
```
