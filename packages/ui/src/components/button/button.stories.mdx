import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import { useTheme } from "styled-components";
import { getVariantScales } from 'util/theme-helpers';
import { Button } from "./button";
import { Box, Heading, Flex } from "../";

<Meta title="Components/Button" component={Button} />

export const ButtonStories = () => {
  const theme = useTheme();
  const scales = getVariantScales(theme, "buttons");
  return scales.map((scale) => (
    <Flex flexDirection="column" key={scale.name} mb={3}>
      <Heading mb={2}>{scale.name}</Heading>
      <Flex flexDirection="column">
        {scale.variants.map((v) => (
          <Flex mb={2}>
            <Button variant={v} mr={2}>
              {v} - default
            </Button>
            {scale.states.map((s) => {
              return (
                <Button className={s} variant={v} mr={2}>
                  {v} - {s}
                </Button>
              );
            })}
          </Flex>
        ))}
      </Flex>
    </Flex>
  ));
};

# Button component

Primitive button component

<Preview withToolbar>
  <Story name="variants">
    <ButtonStories />
  </Story>
</Preview>

### Accessibility

You may provide labelling alternatives for use with assistive-technologies (AT) using wai-aria attributes.
Below is a table of commonly used `aria-attributes` for labelling elements.

Click the attribute in the table below for more information.

<Box mb={4}>
  <Flex flexDirection="column">

| Attribute                                                                                                    | Description                                                                                                                                                                                     |
| ------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <nobr>[**`aria-label`**](https://www.w3.org/WAI/PF/aria/states_and_properties#aria-label)</nobr>             | Provide an accessible name for situations when there is no visible label due to a chosen design approach or layout but the context and visual appearance of the control make its purpose clear. |
| <nobr>[**`aria-labelledby`**](https://www.w3.org/WAI/PF/aria/states_and_properties#aria-labelledby)</nobr>   | Associate an element with text that is visible elsewhere on the page by using an ID reference value that matches the ID attribute of the labeling element.                                      |
| <nobr>[**`aria-describedby`**](https://www.w3.org/WAI/PF/aria/states_and_properties#aria-describedby)</nobr> | Provide programmatically determined, descriptive information about a user interface element.                                                                                                    |

#### Code Examples

```jsx
<Button aria-label="Open the Modal">Open</Button>

<span id='close-label'>Close the Modal</span>
<Button aria-labelledby="close-label"><img src="./x-btn.png" /></Button>

<Button aria-describedby="desc-label-1, desc-label-2">OK</Button>
<span id='desc-label-1'>You acknowledge this notice.</span>
<span id='desc-label-2'>Close the Modal</span>
```

  </Flex>
</Box>

## Component Props

<Props of={Button} />
